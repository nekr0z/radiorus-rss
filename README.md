# radiorus-rss
инструмент для создания RSS-лент передач «Радио России»

**Это архивная версия репозитория. Актуальная версия [на сайте автора](http://evgenykuznetsov.org/go/radiorus-rss).**

Этот парсер можно использовать для преобразования страницы передачи на сайте «Радио России» в RSS-ленту подкаста. На сегодняшний день поддерживаются только аудиопередачи, при попытке использовать идентификатор передачи с видеовыпусками лента будет сгенерирована, но в ней не будет прямых ссылок на видеофайлы.

## Использование
Может работать в качестве скрипта (при установленном `Go`) или в скомпилированном виде как приложение.

### Без компиляции
```
$ go run main.go [опции]
```

### Как приложение
> Необходимо предварительно скомпилировать через `go build`.
```
$ radiorus-rss [опции]
```

### Опции
```
-brand XXXXX
```
выбор передачи. Здесь `XXXXX` — число, как правило, пятизначное, которое можно получить из URL страницы на сайте «Радио России». Так, страница передачи «Мы очень любим оперу» имеет URL вида `www.radiorus.ru/brand/59798/about` — значит, для этой передачи `XXXXX` — `59798`. По умолчанию используется передача `57083` — «Аэростат» Бориса Гребенщикова.

```
-path [путь]
```
путь, где будет создан файл с RSS-лентой. По умолчанию — текущая директория.

```
-smotrim
```
использовать сайт `smotrim.ru` напрямую, без обращения к `www.radiorus.ru`: с апреля 2022 года страницы передач автоматически перенаправляются на `smotrim.ru`, и эта опция позволяет использовать программу в случае, если доступа к сайту `www.radiorus.ru` нет (с февраля 2022 года сайт недоступен из Европы).

## Применение
Один из возможных сценариев использования — загрузить скомпилированное приложение на сервер и настроить автоматическое создание RSS-ленты через `cron` (промежутки подобрать сообразно с частотой выхода передачи).

## При создании использованы
(и при компиляции входят в состав приложения):
* [gorilla/feeds](https://github.com/gorilla/feeds) Copyright © 2013-2018 The Gorilla Feeds Authors
* [goquery](https://github.com/PuerkitoBio/goquery) Copyright © 2012-2016, Martin Angers & Contributors
* [The Go Programming Language](https://golang.org) Copyright © 2009 The Go Authors
